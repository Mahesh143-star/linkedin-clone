{"ast":null,"code":"import{useEffect,useState}from'react';import API from'../api';import'./Home.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Home=()=>{const[posts,setPosts]=useState([]);const[content,setContent]=useState('');const fetchPosts=async()=>{try{const res=await API.get('/posts');setPosts(res.data);}catch{alert('Failed to fetch posts');}};useEffect(()=>{fetchPosts();},[]);const submitPost=async e=>{e.preventDefault();if(!content.trim())return;try{await API.post('/posts',{content});setContent('');fetchPosts();}catch{alert('Failed to create post');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:submitPost,className:\"post-form\",children:[/*#__PURE__*/_jsx(\"textarea\",{className:\"textarea\",placeholder:\"What's on your mind?\",rows:3,value:content,onChange:e=>setContent(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-success\",children:\"Post\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"posts-list\",children:[posts.length===0&&/*#__PURE__*/_jsx(\"p\",{className:\"no-posts\",children:\"No posts yet.\"}),posts.map(post=>/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"post-author\",children:post.author.name}),/*#__PURE__*/_jsx(\"p\",{className:\"post-date\",children:new Date(post.createdAt).toLocaleString()}),/*#__PURE__*/_jsx(\"p\",{children:post.content})]},post.id))]})]});};export default Home;","map":{"version":3,"names":["useEffect","useState","API","jsx","_jsx","jsxs","_jsxs","Home","posts","setPosts","content","setContent","fetchPosts","res","get","data","alert","submitPost","e","preventDefault","trim","post","className","children","onSubmit","placeholder","rows","value","onChange","target","length","map","author","name","Date","createdAt","toLocaleString","id"],"sources":["C:/Users/DELL/Desktop/linkedin-clone/client/src/pages/Home.jsx"],"sourcesContent":["import { useEffect, useState } from 'react';\r\nimport API from '../api';\r\nimport './Home.css';\r\n\r\nconst Home = () => {\r\n  const [posts, setPosts] = useState([]);\r\n  const [content, setContent] = useState('');\r\n\r\n  const fetchPosts = async () => {\r\n    try {\r\n      const res = await API.get('/posts');\r\n      setPosts(res.data);\r\n    } catch {\r\n      alert('Failed to fetch posts');\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchPosts();\r\n  }, []);\r\n\r\n  const submitPost = async (e) => {\r\n    e.preventDefault();\r\n    if (!content.trim()) return;\r\n    try {\r\n      await API.post('/posts', { content });\r\n      setContent('');\r\n      fetchPosts();\r\n    } catch {\r\n      alert('Failed to create post');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <form onSubmit={submitPost} className=\"post-form\">\r\n        <textarea\r\n          className=\"textarea\"\r\n          placeholder=\"What's on your mind?\"\r\n          rows={3}\r\n          value={content}\r\n          onChange={(e) => setContent(e.target.value)}\r\n        />\r\n        <button className=\"btn btn-success\">Post</button>\r\n      </form>\r\n\r\n      <div className=\"posts-list\">\r\n        {posts.length === 0 && <p className=\"no-posts\">No posts yet.</p>}\r\n        {posts.map((post) => (\r\n          <div key={post.id} className=\"card\">\r\n            <p className=\"post-author\">{post.author.name}</p>\r\n            <p className=\"post-date\">{new Date(post.createdAt).toLocaleString()}</p>\r\n            <p>{post.content}</p>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n"],"mappings":"AAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,MAAO,CAAAC,GAAG,KAAM,QAAQ,CACxB,MAAO,YAAY,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEpB,KAAM,CAAAC,IAAI,CAAGA,CAAA,GAAM,CACjB,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGR,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACS,OAAO,CAAEC,UAAU,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CAE1C,KAAM,CAAAW,UAAU,CAAG,KAAAA,CAAA,GAAY,CAC7B,GAAI,CACF,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAX,GAAG,CAACY,GAAG,CAAC,QAAQ,CAAC,CACnCL,QAAQ,CAACI,GAAG,CAACE,IAAI,CAAC,CACpB,CAAE,KAAM,CACNC,KAAK,CAAC,uBAAuB,CAAC,CAChC,CACF,CAAC,CAEDhB,SAAS,CAAC,IAAM,CACdY,UAAU,CAAC,CAAC,CACd,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAK,UAAU,CAAG,KAAO,CAAAC,CAAC,EAAK,CAC9BA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClB,GAAI,CAACT,OAAO,CAACU,IAAI,CAAC,CAAC,CAAE,OACrB,GAAI,CACF,KAAM,CAAAlB,GAAG,CAACmB,IAAI,CAAC,QAAQ,CAAE,CAAEX,OAAQ,CAAC,CAAC,CACrCC,UAAU,CAAC,EAAE,CAAC,CACdC,UAAU,CAAC,CAAC,CACd,CAAE,KAAM,CACNI,KAAK,CAAC,uBAAuB,CAAC,CAChC,CACF,CAAC,CAED,mBACEV,KAAA,QAAKgB,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBjB,KAAA,SAAMkB,QAAQ,CAAEP,UAAW,CAACK,SAAS,CAAC,WAAW,CAAAC,QAAA,eAC/CnB,IAAA,aACEkB,SAAS,CAAC,UAAU,CACpBG,WAAW,CAAC,sBAAsB,CAClCC,IAAI,CAAE,CAAE,CACRC,KAAK,CAAEjB,OAAQ,CACfkB,QAAQ,CAAGV,CAAC,EAAKP,UAAU,CAACO,CAAC,CAACW,MAAM,CAACF,KAAK,CAAE,CAC7C,CAAC,cACFvB,IAAA,WAAQkB,SAAS,CAAC,iBAAiB,CAAAC,QAAA,CAAC,MAAI,CAAQ,CAAC,EAC7C,CAAC,cAEPjB,KAAA,QAAKgB,SAAS,CAAC,YAAY,CAAAC,QAAA,EACxBf,KAAK,CAACsB,MAAM,GAAK,CAAC,eAAI1B,IAAA,MAAGkB,SAAS,CAAC,UAAU,CAAAC,QAAA,CAAC,eAAa,CAAG,CAAC,CAC/Df,KAAK,CAACuB,GAAG,CAAEV,IAAI,eACdf,KAAA,QAAmBgB,SAAS,CAAC,MAAM,CAAAC,QAAA,eACjCnB,IAAA,MAAGkB,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAEF,IAAI,CAACW,MAAM,CAACC,IAAI,CAAI,CAAC,cACjD7B,IAAA,MAAGkB,SAAS,CAAC,WAAW,CAAAC,QAAA,CAAE,GAAI,CAAAW,IAAI,CAACb,IAAI,CAACc,SAAS,CAAC,CAACC,cAAc,CAAC,CAAC,CAAI,CAAC,cACxEhC,IAAA,MAAAmB,QAAA,CAAIF,IAAI,CAACX,OAAO,CAAI,CAAC,GAHbW,IAAI,CAACgB,EAIV,CACN,CAAC,EACC,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAA9B,IAAI","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}